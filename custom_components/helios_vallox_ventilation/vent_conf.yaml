  # All min/max/default values are taken from the Helios EC300 Pro manual.
  # Vallox values may differ!
  # (especially for heating - as per my knowldge, Helios is using pre-heating,
  # Vallox is using post-heating)

  # Please note that the set of registers and values is fixed by the device.
  # Therefore, there should be no need to add or remove entities in this file.
  # All entities are automatically prefixed with 'ventilation_'.

  ip_address: !secret helios_vallox_ip
  port: !secret helios_vallox_port

  sensors:    # state_class: "measurement" ---> ="read-only" register

    # DE Lüftungsstufe
    - name: fanspeed
      description: "Fan speed"
      min_value: 1
      max_value: 8
      icon: "mdi:speedometer-medium"

    # DE Einschaltstufe
    - name: "initial_fanspeed"
      description: "Initial fan speed after switching on"
      unit_of_measurement: "level"
      min_value: 1
      max_value: 8
      factory_setting: 1
      icon: "mdi:speedometer-slow"

    # DE Maximalstufe
    - name: "max_fanspeed"
      description: "Maximum fan speed availabe to remotes"
      unit_of_measurement: "level"
      min_value: 1
      max_value: 8
      factory_setting: 8
      icon: "mdi:speedometer"

    # DE: Außenlufttemperatur 
    - name: "temperature_outdoor_air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Zulufttemperatur
    - name: "temperature_supply_air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Ablufttemperatur
    - name: "temperature_extract_air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Fortlufttemperatur
    - name: "temperature_exhaust_air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Bypass Aktivierungstemperatur
    - name: "bypass_setpoint"
      unit_of_measurement: "°C"
      min_value: 0
      max_value: 25
      factory_setting: 10
      icon: "mdi:thermometer"

    # DE: Heizung Einschalttemperatur
    # set to +5 to activate with pre-heating with defrost defaults below
    - name: "preheat_setpoint"
      unit_of_measurement: "°C"
      min_value: -10
      max_value: 10
      factory_setting: -3
      icon: "mdi:thermometer"

    # DE: Frostmodus Aktivierungstemperatur
    # can be reduced below 0 in case of enthalpy heat exchanger
    - name: "defrost_setpoint"
      unit_of_measurement: "°C"
      min_value: -6
      max_value: 15
      factory_setting: 3
      icon: "mdi:thermometer"

    # DE: Frostmodus Hysterese (Abschaltung)
    - name: "defrost_hysteresis"
      unit_of_measurement: "°C"
      min_value: 1
      max_value: 10
      factory_setting: 3
      icon: "mdi:thermometer"

    # DE: Restzeit Stoßlüftung
    - name: "boost_remaining"
      device_class: "duration"
      state_class: "measurement"
      unit_of_measurement: "min"
      icon: "mdi:fan-clock"
    
    # DE: Zuluftmotor Drehzahl SOLL%
    - name: "input_fan_percent"
      unit_of_measurement: "%"
      min_value: 65
      max_value: 100
      factory_setting: 100
      icon: "mdi:percent"

    # DE: Fortluftmotor Drehzahl SOLL%
    - name: "output_fan_percent"
      unit_of_measurement: "%"
      min_value: 65
      max_value: 100
      factory_setting: 100
      icon: "mdi:percent"

    # DE: Warnintervall Filter
    - name: "service_interval"
      unit_of_measurement: "months"
      min_value: 1
      max_value: 12
      factory_setting: 4
      icon: "mdi:calendar-multiple"

    # DE: Aktuelle Restzeit Filterwarnung
    - name: "service_due_months"
      unit_of_measurement: "months"
      min_value: 0
      icon: "mdi:calendar-end"

    # DE: Fehler-/Störungsnummer
    - name: "fault_number"
      state_class: "measurement"
      unit_of_measurement: ""
      icon: "mdi:alert"

    # DE: Übersetzung Fehlernummer -> Fehlertext
    # no reading, just definition - calculated by vent_functions.py from const.py
    - name: "fault_text"
      icon: "mdi:alert"

    # DE: Feuchtesensor 1 (Rohwert)
    # relative humidity sensor 1 raw value - thanks to @ragg987
    - name: "rh_sensor1_raw"
      icon: "mdi:water-percent"
      unit_of_measurement: ""

    # DE: Feuchtesensor 2 (Rohwert)
    # relative humidity sensor 2 raw value - thanks to @ragg987
    - name: "rh_sensor2_raw"
      icon: "mdi:water-percent"
      unit_of_measurement: ""

    # DE: CO2 Messwert 1 (Upper, Rohwert)
    # CO2 reading 1
    - name: "co2_reading_upper_byte"
      icon: "mdi:molecule-co2"
      unit_of_measurement: ""

    # DE: CO2 Messwert 2 (Lower, Rohwert)
    # CO2 reading 2
    - name: "co2_reading_lower_byte"
      icon: "mdi:molecule-co2"
      unit_of_measurement: ""

    # DE: CO2 Stellwert 1 (Upper, Rohwert)
    # CO2 control setpoint 1
    - name: "co2_setting_upper_byte"
      unit_of_measurement: ""
      icon: "mdi:molecule-co2"

    # DE: CO2 Stellwert 2 (Lower, Rohwert)
    # CO2 control setpoint 2
    - name: "co2_setting_lower_byte"
      unit_of_measurement: ""
      icon: "mdi:molecule-co2"

    # DE: Temperaturabfall ausgehend
    # no reading - calculated by vent_functions.py
    - name: "temperature_reduction"
      description: "Heat recovery - temperature reduction of outgoing air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Temperaturgewinn eingehend
    # no reading - calculated by vent_functions.py
    - name: "temperature_gain"
      description: "Heat recovery - temperature gain of incoming air"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Temperaturbalance (=eingehend-ausgehend)
    # no reading - calculated by vent_functions.py
    - name: "temperature_balance"
      description: "Difference temperature gain - temperature reduction"
      unit_of_measurement: "°C"
      device_class: "temperature"
      state_class: "measurement"
      icon: "mdi:thermometer"

    # DE: Effizienz
    # no reading - calculated by vent_functions.py
    - name: "efficiency"
      unit_of_measurement: "%"
      state_class: "measurement"
      icon: "mdi:percent"

  binary_sensors:

    # DE: Indikator Stoßlüftung
    - name: "boost_status"
      icon: "mdi:tooltip-question"

    # DE: Indikator Fehler
    - name: "fault_detected"
      device_class: "problem"
      icon: "mdi:alert"

    # DE: Indikator Filterwarnung
    - name: "clean_filter"
      device_class: "problem"
      icon: "mdi:alert"

    # DE: Indikator Service
    - name: "service_requested"
      device_class: "problem"
      icon: "mdi:alert"

    # DE: Indikator Heizung aktiv
    - name: "post_heating_on"
      device_class: "heat"
      icon: "mdi:heating-coil"

    # DE: CO2-Sensor 1 installiert
    - name: "co2_sensor1_present"
      device_class: "connectivity"
      icon: "mdi:molecule-co2"

    # DE: CO2-Sensor 2 installiert
    - name: "co2_sensor2_present"
      device_class: "connectivity"
      icon: "mdi:molecule-co2"

    # DE: CO2-Sensor 3 installiert
    - name: "co2_sensor3_present"
      device_class: "connectivity"
      icon: "mdi:molecule-co2"

    # DE: CO2-Sensor 4 installiert
    - name: "co2_sensor4_present"
      device_class: "connectivity"
      icon: "mdi:molecule-co2"

    # DE: CO2-Sensor 5 installiert
    - name: "co2_sensor5_present"
      device_class: "connectivity"
      icon: "mdi:molecule-co2"

    # DE: Indikator Service
    - name: "co2_alarm"
      device_class: "problem"
      icon: "mdi:alert"


  switches:

    # DE: KWL an / aus
    - name: "powerstate"
      device_class: "power"
      icon: "mdi:power-settings"

    # DE: Warnung CO2
    - name: "co2_indicator"
      device_class: "problem"
      icon: "mdi:alert"

    # DE: Warnung Luftfeuchte
    - name: "rh_indicator"
      device_class: "problem"
      icon: "mdi:alert"

    # DE: Wintermodus / WRG aktiv
    - name: "winter_mode"
      device_class: "switch"
      icon: "mdi:alert"

    # DE: Status Vorheizung
    - name: "preheat_status"
      device_class: "switch"
      icon: "mdi:tooltip-question"

    # DE: Modus bei Stoßlüftung
    # 0=Fireplace mode, 1=Normal boost
    - name: "boost_mode"
      device_class: "switch"
      icon: "mdi:fan-speed-2"

    # DE: Stoßlüftung aktivieren
    - name: "activate_boost"
      device_class: "switch"
      icon: "mdi:fan"

    # DE: Frischluftventilator aus
    - name: "input_fan_off"
      device_class: "power"
      icon: "mdi:fan-off"

    # DE: Fortluftventilator aus
    - name: "output_fan_off"
      device_class: "power"
      icon: "mdi:fan-off"
